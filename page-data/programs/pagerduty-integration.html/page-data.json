{"componentChunkName":"component---src-templates-programs-js","path":"/programs/pagerduty-integration.html","result":{"data":{"markdownRemark":{"html":"<style>\n.contents {\n  margin-left: 1.45rem;\n  margin-right: 1.45rem;\n  border-radius: 0.3em;\n  width: 60%;\n}\n</style>\n<p>The PagerDuty integration enables incidents to be created each time a new high or critical report is submitted or triaged onto HackerOne.</p>\n<div class=\"betanote\" markdown=\"1\">\n<b>Note:</b> This integration is currently in beta and only available to select programs. If you’d like to use this integration please reach out to your program manager.\n</div>\n<h3 id=\"set-up\"><a href=\"#set-up\" aria-label=\"set up permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Set up</h3>\n<blockquote>\n<p><strong>Note:</strong> You can tailor the configuration of your integration for different use cases by adjusting the steps below.</p>\n</blockquote>\n<p>To set up the integration between PagerDuty and each time a high or critical report is created on HackerOne:</p>\n<ol>\n<li>Navigate to <strong>Configuration > Services</strong> on PagerDuty.</li>\n<li><a href=\"https://support.pagerduty.com/docs/services-and-integrations#section-events-api-v2\">Create a new service</a> or add an integration to an existing service on PagerDuty by clicking <strong>+Add New Services</strong> on your services page.</li>\n<li>Select <strong>Custom Event Transformer</strong> for the <em>Integration Type</em>.</li>\n<li>Go to the <strong>Integrations</strong> tab on the <strong>Services</strong> page.</li>\n<li>Click the settings gear next to the integration and select <strong>Edit</strong>.</li>\n<li>Edit the code that gets executed when the integration gets triggered by pasting the code below</li>\n</ol>\n<p><code>var webhook = PD.inputRequest;</code>\n<br><code>var event_type = PD.Trigger;</code>\n<br><code>var severity = webhook.body.data.report.relationships.severity;</code>\n<br><code>var severity_rating = severity ? severity.data.attributes.rating : null;</code></p>\n<p><code>if (severity_rating == \"high\" || severity_rating == \"critical\") {</code>\n<br> <code>var normalized_event = {</code>\n<br>      <code>event_type: event_type,</code>\n<br>      <code>incident_key: webhook.body.data.report.id,</code>\n<br>      <code>client: 'HackerOne',</code>\n<br>      <code>client_url: 'https://hackerone.com/reports/' + webhook.body.data.report.id,</code>\n<br>      <code>description: 'A ' + severity_rating + ' vulnerability was reported to HackerOne!',</code>\n<br>      <code>details: 'The '+ severity_rating + ' report title is ' + webhook.body.data.report.attributes.title</code>\n<br>        <code>};</code>\n<br>        <code>PD.emitGenericEvents([normalized_event]);</code>\n<br><code>}</code></p>\n<p>If you want to be notified for all reports that get created (regardless of severity) you can use the following code instead:</p>\n<p><code>var webhook = PD.inputRequest;</code>\n<br><code>var event_type = PD.Trigger;</code>\n<br><code>var severity = webhook.body.data.report.relationships.severity;</code>\n<br><code>var severity_rating = severity ? severity.data.attributes.rating : null;</code></p>\n<p><code>var normalized_event = {</code>\n<br> <code>event_type: event_type,</code>\n<br> <code>incident_key: webhook.body.data.report.id,</code>\n<br> <code>client: 'HackerOne',</code>\n<br> <code>client_url: 'https://hackerone.com/reports/' + webhook.body.data.report.id,</code>\n<br> <code>description: 'A ' + severity_rating + ' vulnerability was reported to HackerOne!',</code>\n<br> <code>details: 'The ' + severity_rating + ' report title is ' + webhook.body.data.report.attributes.title</code>\n<br> <code>};</code></p>\n<p><code>PD.emitGenericEvents([normalized_event]);</code></p>\n<ol start=\"7\">\n<li>Click <strong>Save Changes</strong>. You’ll be redirected to the View page of the integration.</li>\n<li>Copy the <em>Integration URL</em> on the view page.</li>\n<li>Log in to your account on hackerone.com.</li>\n<li>Navigate to your webhooks settings on <strong>Program Settings > Program > Webhooks</strong>.</li>\n<li>Click <strong>New Webhook</strong>.</li>\n<li>Paste the URL that was copied from the Pagerduty integration page in step 8.</li>\n<li>Select <strong>Report created</strong> and <strong>Report triaged</strong> as the events you want to trigger the webhook on.</li>\n<li><em>(Optional)</em> Select any other events you want to trigger the webhook on.</li>\n<li>Click <strong>Add webhook</strong> to save the webhook.</li>\n</ol>\n<p>Each new and triaged report that has a high or critical severity will now create an incident on Pagerduty and page the appropriate teams based on your Pagerduty policies.</p>","frontmatter":{"path":"/programs/pagerduty-integration.html","id":"programs/pagerduty-integration","title":"PagerDuty Integration","description":null},"headings":[{"value":"Set up"}]}},"pageContext":{}}}